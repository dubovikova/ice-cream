{% extends "base.html" %}
{% block content %}
  <h1>üê±–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–∞—Ñ–µ Meow-Meow!üç®üç¶üçß</h1>
  <h2>üê±–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–∫–∞–∑–∞—Ç—å –≤–∫—É—Å–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏ –∏ –¥–µ—Å–µ—Ä—Ç—ã!üê±</h2>

  <form action="/order" method="post">
    <input type="text" name="name" placeholder="–í–í–ï–î–ò–¢–ï –í–ê–®–ï –ò–ú–Ø" required>
    <p></p>

    <div style="display: flex; gap: 20px; flex-wrap: nowrap; align-items: flex-start;">
      <div>
        <label>üê±–ù–∞–ø–∏—Ç–æ–∫ –∏–ª–∏ –¥–µ—Å–µ—Ä—Ç:</label>
        <table border="1" cellpadding="5" cellspacing="0">
          {% for code, name in products.items() %}
          <tr>
            <td><input type="radio" name="product" value="{{ code }}" required></td>
            <td>{{ name }}</td>
          </tr>
          {% endfor %}
        </table>
      </div>

      <div>
        <label>üê±–í–∫—É—Å:</label>
        <table border="1" cellpadding="5" cellspacing="0">
          {% for code, name in flavors.items() %}
          <tr>
            <td><input type="radio" name="flavor" value="{{ code }}" required></td>
            <td>{{ name }}</td>
          </tr>
          {% endfor %}
        </table>
      </div>

      <div>
        <label>üê±–¢–æ–ø–ø–∏–Ω–≥:</label>
        <table border="1" cellpadding="5" cellspacing="0">
          {% for code, name in toppings.items() %}
          <tr>
            <td><input type="radio" name="topping" value="{{ code }}"></td>
            <td>{{ name }}</td>
          </tr>
          {% endfor %}
        </table>
      </div>
    </div>

    <p></p>
    <button type="submit">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
  </form>
  <p></p>

  <style>
    .dessert-wrapper {
      display: flex;
      justify-content: center;
      align-items: flex-end;
      width: 350px;
      min-height: 250px;
      margin: 20px auto;
      background: #fff0f6;
      border-radius: 15px;
      padding: 20px;
      box-sizing: border-box;
    }

    /* ===== –ú–æ—Ä–æ–∂–µ–Ω–∫–∞ ===== */
    .ice-cream {
      width: 60px;
      height: 100px;
      background: #ffb6c1;
      border-radius: 30px 30px 10px 10px;
      position: relative;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      animation: ice-dance 7s ease-in-out infinite;
      z-index: 2;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      transform-origin: bottom center;
      margin: 0 15px;
    }

    .ice-cream::before {
      content: '';
      position: absolute;
      width: 16px;
      height: 28px;
      background: #deb887;
      bottom: -28px;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 4px;
      z-index: -1;
    }

    .choco-top {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 30px;
      background: #8b4513;
      clip-path: path("M0,0 H60 V20 Q52,24 45,20 Q37,16 30,20 Q23,24 15,20 Q8,16 0,20 Z");
      border-radius: 30px 30px 10px 10px;
    }

    .eyes {
      width: 34px;
      display: flex;
      justify-content: space-between;
      margin-top: 35px;
      z-index: 3;
    }

    .eye {
      width: 6px;
      height: 6px;
      background: black;
      border-radius: 50%;
    }

    .smile {
      width: 15px;
      height: 8px;
      border: 2px solid black;
      border-top: none;
      border-radius: 0 0 8px 8px;
      margin: 5px auto 0;
      z-index: 3;
    }

    .cheek {
      position: absolute;
      top: 50px;
      width: 10px;
      height: 10px;
      background: rgba(255, 105, 180, 0.6);
      border-radius: 50%;
      box-shadow: 0 0 4px rgba(255, 105, 180, 0.8);
    }
    .cheek.left { left: 8px; }
    .cheek.right { right: 8px; }

    @keyframes ice-dance {
      0%    { transform: translateY(0) scaleY(1) rotate(0deg); }
      4%    { transform: translateY(-20px) scaleY(1) rotate(0deg); }
      8%    { transform: translateY(0) scaleY(0.9) rotate(0deg); }
      12%   { transform: translateY(0) scaleY(1) rotate(0deg); }

      16%   { transform: translateY(-20px) scaleY(1) rotate(0deg); }
      20%   { transform: translateY(0) scaleY(0.9) rotate(0deg); }
      24%   { transform: translateY(0) scaleY(1) rotate(0deg); }

      28%   { transform: translateY(-20px) scaleY(1) rotate(0deg); }
      32%   { transform: translateY(0) scaleY(0.9) rotate(0deg); }
      36%   { transform: translateY(0) scaleY(1) rotate(0deg); }

      40%   { transform: translateY(-20px) scaleY(1) rotate(0deg); }
      44%   { transform: translateY(0) scaleY(0.9) rotate(0deg); }
      48%   { transform: translateY(0) scaleY(1) rotate(0deg); }

      55%   { transform: translateY(-100px) scaleY(1) rotate(0deg); }
      60%   { transform: translateY(0) scaleY(0.9) rotate(0deg); }
      65%   { transform: translateY(-100px) scaleY(1) rotate(0deg); }
      70%   { transform: translateY(0) scaleY(0.9) rotate(0deg); }

      /* –ü—Ä—ã–∂–æ–∫ —Å –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–æ–º 2% */
      78%    { transform: translateY(-100px) scaleY(1) rotate(0deg); }
      80%    { transform: translateY(-100px) scaleY(1) rotate(180deg); }
      82%    { transform: translateY(-60px) scaleY(1) rotate(360deg); }
      100%   { transform: translateY(0) scaleY(1) rotate(360deg); }
    }

    /* ===== –¢–æ—Ä—Ç–∏–∫–∏ ===== */
    .cake {
      position: relative;
      font-size: 50px;
      animation: cake-bounce 2s ease-in-out infinite;
      transform-origin: bottom center;
    }

    .cake.left { margin-right: 10px; }
    .cake.right { margin-left: 10px; }

    .cake-face {
      position: absolute;
      bottom: 25px;
      left: 50%;
      transform: translateX(-50%);
      width: 30px;
      text-align: center;
      pointer-events: none;
    }

    .cake-eyes {
      display: flex;
      justify-content: space-between;
      width: 18px;
      margin: 0 auto;
    }

    .cake-eye {
      width: 6px;
      height: 6px;
      background: black;
      border-radius: 50%;
      animation: blink 4s infinite;
    }

    .cake-smile {
      width: 15px;
      height: 7px;
      border: 2px solid black;
      border-top: none;
      border-radius: 0 0 10px 10px;
      margin: 2px auto 0;
      transition: all 0.3s ease;
    }

    .tongue::after {
      content: '';
      display: block;
      width: 6px;
      height: 6px;
      background: #ff5e7d;
      border-radius: 50%;
      margin: -1px auto 0;
      opacity: 0;
      transition: opacity 0.3s;
      animation: tongue-show 4s infinite;
    }

    .laugh {
      border: none;
      width: 16px;
      height: 8px;
      background: black;
      border-radius: 0 0 8px 8px;
      animation: laugh-mouth 4s infinite;
    }

    @keyframes blink {
      0%, 70%, 100% { transform: scaleY(1); }
      75%, 85% { transform: scaleY(0.1); }
    }

    @keyframes tongue-show {
      0%, 70% { opacity: 0; }
      75%, 100% { opacity: 1; }
    }

    @keyframes laugh-mouth {
      0%, 70% { transform: scaleY(1); }
      75%, 100% { transform: scaleY(1.4); }
    }

    .cake-cheek {
      position: absolute;
      top: 18px;
      width: 8px;
      height: 8px;
      background: rgba(255, 105, 180, 0.6);
      border-radius: 50%;
      box-shadow: 0 0 3px rgba(255, 105, 180, 0.8);
    }
    .cake-cheek.left { left: -2px; }
    .cake-cheek.right { right: -2px; }

    @keyframes cake-bounce {
      0%, 100% { transform: translateY(0) scale(1); }
      10% { transform: translateY(3px) scale(1.05, 0.95); }
      30% { transform: translateY(-20px) scale(0.98, 1.02); }
      50% { transform: translateY(0) scale(1.05, 0.95); }
      70% { transform: translateY(-10px) scale(1); }
    }
  </style>
{% endblock %}